from ..main_classes import Block
from .screen import WIDTH, HEIGHT
from ..tree import Tree, BigTree
from ..box import Box
from ..chest import Chest
from ..enemy import Frog, Chicken, Rooster
from ..bush import Bush
from .load_all_images import list_big_trees
from ..resourses import Discarded_Item
from .maps import TextClass

import random

map = [ [" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
        [" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
        [" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
        [" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
        [" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","b"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
        [" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","b"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","0","0"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
        [" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","0"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","0"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
        [" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
        [" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","0"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","0"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
        [" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","k","c"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
        [" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","0"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","0"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","_","=","-"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
        [" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
        [" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","0"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","0"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","1"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "],
        [" "," "," "," "," "," "," ","m","t","k","e"," "," "," "," "," "," "," "," ","8"," "," "," "," "," "," "," "," "," "," "," ","8"," "," "," "," "," ","s"," "," "," "," "," "," "," "," "," ","8"," "," "," "," "," ","s"," "," "," "," "," "," "," "," ","8"," "," "," ","s"," "," "," "," "," "," "," "," "," "," ","8"," "," "," "," "," "," "," "," "," "," "," ","s"," "," "," "," "," ","8"," "," "," "," "," "," "," "," "," "," "," "," ","8"," "," "," "," ","s"," "," "," "," "," "," "," "," "," "," ","s"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","8"," "," "," "," "," "," ","s"," "," "," "," "," "," "," "," ","1"," "," "," ","8"," "," "," ","s"," "," "," "," ","8"," "," "," "," ","k","c"," "," "," "," "," "," "," "," "," ","b"," "," "," ","s"," "," ","8"," "," "," "," "," "," "," "," ","s"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","8"," ","s"," "," "],
        ["1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3","1","2","3"],
        ["6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5","6","7","5"]]

blocks = []
list_trees = []
list_of_clouds = []
chests = []
boxes = []
list_rooster = []
list_chicken = []
list_frog = []
list_enemy = []
list_bush = []
list_big_boss_tree = []
droped_resources = []

background = Block(x = 0, y = 0, width = WIDTH, height = HEIGHT, image = "images/screen/1.jpeg")

for idy, row in enumerate(map):
    for idx, column in enumerate(row):
        if column == "0":
            block = Block(x = 50 * idx, y = 50 * idy, width = 50, height = 50, image = "images/screen1/block_of_big_tree.png")
            blocks.append(block)

        if column == "1":
            block = Block(x = 50 * idx, y = 50 * idy, width = 50, height = 50, image = "images/tilemap/level_1/1.png")
            blocks.append(block)
        
        elif column == "2":
            block = Block(x = 50 * idx, y = 50 * idy, width = 50, height = 50, image = "images/tilemap/level_1/2.png")
            blocks.append(block)

        elif column == "3":
            block = Block(x = 50 * idx, y = 50 * idy, width = 50, height = 50, image = "images/tilemap/level_1/3.png")
            blocks.append(block)

        elif column == "4":
            block = Block(x = 50 * idx, y = 50 * idy, width = 50, height = 50, image = "images/tilemap/level_1/4.png")
            blocks.append(block)

        elif column == "5":
            block = Block(x = 50 * idx, y = 50 * idy, width = 50, height = 50, image = "images/tilemap/level_1/5.png")
            blocks.append(block)

        elif column == "6":
            block = Block(x = 50 * idx, y = 50 * idy, width = 50, height = 50, image = "images/tilemap/level_1/6.png")
            blocks.append(block)
        
        elif column == "7":
            block = Block(x = 50 * idx, y = 50 * idy, width = 50, height = 50, image = "images/tilemap/level_1/7.png")
            blocks.append(block)
        
        elif column == "8":
            tree = Tree(x = 50 * idx - 5, y = 50 * idy - 234, width = 0, height = 0, #change size in load_all_image.py
                        image ="images/tree/Pine tree/Bubble Pine Tree - YELLOW - 0000.png", 
                        random_egg = random.randint(0, 1), sprite_frequency_tree=random.randint(0, 10))
            list_trees.append(tree)
        
        elif column == "9":
            big_boss_tree = BigTree(x = 50 * idx - 5, y = 50 * idy - 350, width = 0, height = 0, image = list_big_trees[0])
            list_big_boss_tree.append(big_boss_tree) #change size in load_all_image.py
            big_boss_tree = BigTree(x = 50 * idx - 5, y = 50 * idy - 750, width = 0, height = 0, image = list_big_trees[1])
            list_big_boss_tree.append(big_boss_tree) #change size in load_all_image.py

        elif column == "c":
            chest = Chest(x = 50 * idx, y = 50 * idy, width = 50, height = 50, image = "images/chest/chest_lock.png", open_chest = False)
            chests.append(chest)

        elif column == "b":
            box = Box(x = 50 * idx, y = 50 * idy, width = 50, height = 50, image = "images/box/box_lock.png", open_box = False)
            boxes.append(box)

        elif column == "f":
            frog = Frog(50 * idx, 50 * idy - 10, 60, 60, "images/enemy/frog/idle/0.png", 3, 2, 2, 0, 0, False)
            list_frog.append(frog)
            list_enemy.append(frog)

        elif column == "r":
            rooster = Rooster(50 * idx, 50 * idy - 10, 63, 63, "images/enemy/rooster/idle/0.png", 3, 2, 0, 0, False, 0)
            list_rooster.append(rooster)
            list_enemy.append(rooster)

        elif column == "h":
            chicken = Chicken(50 * idx, 50 * idy, 40, 50, "images/enemy/chicken/run/0.png", 3, 2, 2, 0, 0, 0, 0, False, 0)
            list_chicken.append(chicken)
            list_enemy.append(chicken)
        
        elif column == "s":
            bush = Bush(50 * idx, 50 * idy - 13, 105, 65, f"images/bush/{random.randint(0,6)}.png")
            list_bush.append(bush)
        
        elif column == "-":
            block = Block(x = 50 * idx, y = 50 * idy, width = 50, height = 50, image = "images/tilemap/air/1.png")
            blocks.append(block)

        elif column == "=":
            block = Block(x = 50 * idx, y = 50 * idy, width = 50, height = 50, image = "images/tilemap/air/2.png")
            blocks.append(block)

        elif column == "_":
            block = Block(x = 50 * idx, y = 50 * idy, width = 50, height = 50, image = "images/tilemap/air/1.png")
            blocks.append(block)

        elif column == "m":
            meat1 = Discarded_Item(x = 50 * idx, y = 50 * idy, width = 40, height = 25, image = "images/resources/meat.png", whatIsThis= "meat")
            droped_resources.append(meat1)

        elif column == "t":
            heart1 = Discarded_Item(x = 50 * idx, y = 50 * idy, width = 25, height = 25, image = "images/resources/heart.png", whatIsThis= "heart")
            droped_resources.append(heart1)

        elif column == "e":
            egg1 = Discarded_Item(x = 50 * idx, y = 50 * idy, width = 20, height = 30, image = "images/resources/egg.png", whatIsThis= "egg")
            droped_resources.append(egg1)

        elif column == "k":
            key1 = Discarded_Item(x = 50 * idx, y = 50 * idy, width = 30, height = 22, image = "images/resources/key.png", whatIsThis= "key")
            droped_resources.append(key1)


# - Nothing
#0 - block of tree
#1 - block 1
#2 - block 2
#3 - block 3
#4 - block 4
#5 - block 5
#6 - block 6
#7 - block 7
#9 - tree
#c - chest
#b - box
#f - frog
#r - rooster
#h - chicken/hen
#s - shrub
#9 - big boss tree
#- - block in air 1
#= - block in air 2
#_ - block in air 3
#m - meat
#t - heart
#e - egg
#k - key